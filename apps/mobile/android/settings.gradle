pluginManagement {
  def reactNativeGradlePlugin = new File(
    providers.exec {
      workingDir(rootDir)
      commandLine("node", "--print", "require.resolve('react-native/package.json')")
    }.standardOutput.asText.get().trim(),
    "../gradle-plugin"
  )
  includeBuild(reactNativeGradlePlugin)
}

apply from: new File(["node", "--print", "require.resolve('expo/package.json')"].execute(null, rootDir).text.trim(), "../scripts/autolinking.gradle")
apply plugin: 'com.facebook.react.settings'

extensions.configure(com.facebook.react.ReactSettingsExtension) { ex ->
  if (System.getenv('EXPO_UNSTABLE_CORE_AUTOLINKING') == '1') {
    ex.autolinkLibrariesFromCommand()
  } else {
    def command = [
      "node",
      "--no-warnings",
      "--eval",
      "require('expo-modules-autolinking').androidAutolinkingConfigCommand({ searchPaths: [require('path').resolve(__dirname, '../../..')] })"
    ]
    ex.autolinkLibrariesFromCommand(command)
  }
}

rootProject.name = 'TBH Beekeeper'
include ':app'
